"use strict";(self.webpackChunkmyproject_shop=self.webpackChunkmyproject_shop||[]).push([[930],{2736:function(e,n,t){t.r(n),t.d(n,{default:function(){return S}});var a=t(3433),s=t(9439),r=t(2791),i="ItemsPage_container__sVIHO",c="ItemsPage_items__grid__+kWYp",u="ItemsPage_items__title__xvQDn",l="ItemsPage_items__filter__uQ7Gk",o="ItemsPage_items__error__uF0Es",_="ItemsPage_items__pagination__KFMO9",d="ItemsPage_pagination__button__-sDOI",f="ItemsPage_pagination__current__-7Muz",m=t(7217),h=t(4917),p=t(1573),g=t(2201),j=t(7674),v="MySelect_select__wrapper__N--tO",x="MySelect_select__Yq4pF",I=t(184),N=function(e){var n=e.options,t=e.defaultValue,a=e.value,s=e.onChange,r=(0,h.T)();return(0,I.jsx)("div",{className:v,children:(0,I.jsxs)("select",{value:a,onChange:function(e){s(e.target.value),r((0,j.zR)(e.target.value))},className:x,children:[(0,I.jsx)("option",{disabled:!0,value:"",children:t}),n.map((function(e){return(0,I.jsx)("option",{value:e.sortValue,children:e.name},e.sortValue)}))]})})},P=t(3674),k=t(1694),y=t.n(k),S=function(){var e=(0,r.useState)(""),n=(0,s.Z)(e,2),t=n[0],v=n[1],x=(0,r.useState)(0),k=(0,s.Z)(x,2),S=k[0],w=k[1],C=function(e){return(0,r.useMemo)((function(){for(var n=[],t=0;t<e;t++)n.push(t+1);return n}),[e])}(S),M=(0,p.i)((function(e){return e.productSlice})),V=M.products,b=M.isLoading,O=(0,p.i)((function(e){return e.filterSlice})),F=O.searchParams,E=O.sortValue,T=O.page,Y=(0,h.T)(),Z=E.includes("-")?"ask":"desc",z=E.replace("-",""),A=(0,r.useRef)(null);(0,r.useEffect)((function(){var e=F?"&search=".concat(F):"";Y((0,g.t2)({search:e,order:Z,sorted:z,page:T,limit:8}))}),[F,Z,z,T]),(0,r.useEffect)((function(){var e,n;w((e=20,n=8,Math.ceil(e/n)))}),[V]);return(0,I.jsxs)("div",{className:i,children:[(0,I.jsxs)("div",{className:l,children:[(0,I.jsx)(m.wn,{}),(0,I.jsx)(N,{value:t,onChange:function(e){v(e)},defaultValue:"Sort by",options:P.u})]}),(0,I.jsx)("h2",{"data-testid":"catalogue-page",className:u,children:"Catalogue"}),(0,I.jsx)("div",{className:0!==V.length?c:"",children:"error"===b?(0,I.jsxs)("div",{className:o,children:[(0,I.jsx)("h2",{children:" Something went wrong \ud83d\ude15"}),(0,I.jsxs)("p",{children:[" ","Unfortunately,during fetching occured an error. Try again later"]})]}):(0,I.jsxs)(I.Fragment,{children:["loading"===b&&(0,a.Z)(new Array(8)).map((function(e,n){return(0,I.jsx)(m.Od,{},n)})),V.map((function(e){return(0,I.jsx)(m.xs,{product:e},e.id)}))]})}),(0,I.jsx)("div",{ref:A}),(0,I.jsx)("div",{className:_,children:C.map((function(e){return(0,I.jsx)("span",{onClick:function(){return function(e){Y((0,j.YA)(e))}(e)},className:T===e?y()(d,f):d,children:e},e)}))})]})}}}]);
//# sourceMappingURL=ItemsPage.4ae49340.chunk.js.map